/*! For license information please see termynal.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Termynal=e():t.Termynal=e()}(self,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var r in i)t.o(i,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:i[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>i});class i{constructor(t="#termynal",e={}){this.container="string"==typeof t?document.querySelector(t):t,this.pfx=`data-${e.prefix||"ty"}`,this.startDelay=e.startDelay||parseFloat(this.container.getAttribute(`${this.pfx}-startDelay`))||600,this.typeDelay=e.typeDelay||parseFloat(this.container.getAttribute(`${this.pfx}-typeDelay`))||90,this.lineDelay=e.lineDelay||parseFloat(this.container.getAttribute(`${this.pfx}-lineDelay`))||1500,this.progressLength=e.progressLength||parseFloat(this.container.getAttribute(`${this.pfx}-progressLength`))||40,this.progressChar=e.progressChar||this.container.getAttribute(`${this.pfx}-progressChar`)||"█",this.progressPercent=e.progressPercent||parseFloat(this.container.getAttribute(`${this.pfx}-progressPercent`))||100,this.cursor=e.cursor||this.container.getAttribute(`${this.pfx}-cursor`)||"▋",this.lineData=this.lineDataToElements(e.lineData||[]),e.noInit||this.init()}init(){this.lines=[...this.container.querySelectorAll(`[${this.pfx}]`)].concat(this.lineData);const t=getComputedStyle(this.container);this.container.style.width="0px"!==t.width?t.width:void 0,this.container.style.minHeight="0px"!==t.height?t.height:void 0,this.container.setAttribute("data-termynal",""),this.container.innerHTML="",this.start()}async start(){await this._wait(this.startDelay);for(let t of this.lines){const e=t.getAttribute(this.pfx),i=t.getAttribute(`${this.pfx}-delay`)||this.lineDelay;"input"==e?(t.setAttribute(`${this.pfx}-cursor`,this.cursor),await this.type(t),await this._wait(i)):"progress"==e?(await this.progress(t),await this._wait(i)):(this.container.appendChild(t),await this._wait(i)),t.removeAttribute(`${this.pfx}-cursor`)}}async type(t){const e=[...t.textContent],i=t.getAttribute(`${this.pfx}-typeDelay`)||this.typeDelay;t.textContent="",this.container.appendChild(t);for(let r of e)await this._wait(i),t.textContent+=r}async progress(t){this.container.clientWidth;const e=t.getAttribute(`${this.pfx}-progressLength`)||this.progressLength,i=(t.getAttribute(`${this.pfx}-progressChar`)||this.progressChar).repeat(e),r=t.getAttribute(`${this.pfx}-progressPercent`)||this.progressPercent;t.textContent="",this.container.appendChild(t);for(let e=1;e<i.length+1;e++){await this._wait(this.typeDelay);const s=Math.round(e/i.length*100);if(t.textContent=`${i.slice(0,e)} ${s}%`,s>r)break}}_wait(t){return new Promise((e=>setTimeout(e,t)))}lineDataToElements(t){return t.map((t=>{let e=document.createElement("div");return e.innerHTML=`<span ${this._attributes(t)}>${t.value||""}</span>`,e.firstElementChild}))}_attributes(t){let e="";for(let i in t)e+=this.pfx,"type"===i?e+=`="${t[i]}" `:"value"!==i&&(e+=`-${i}="${t[i]}" `);return e}}return e.default})()}));